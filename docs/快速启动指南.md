# 绿闪桩能源管理平台 - 快速启动指南

## 📋 项目说明

这是一个企业级充电桩能源管理后台系统，包含前端（Vue3 + Element Plus）和后端（Node.js + Express + MySQL）。

---

## 🚀 快速启动步骤

### 第一步：安装 MySQL 数据库

1. 下载并安装 MySQL 8.0+
2. 启动 MySQL 服务
3. 记住你的 root 密码

### 第二步：创建数据库

打开命令行，执行以下命令：

```bash
# 登录 MySQL
mysql -u root -p

# 输入密码后，执行以下 SQL
source D:/study/Vue学习--续/graduationPro-VueNode/server/database/schema.sql

# 或者直接在命令行执行
mysql -u root -p < server/database/schema.sql

# 可选：导入测试数据
mysql -u root -p < server/database/init-test-data.sql
```

### 第三步：配置后端

1. 进入后端目录：

```bash
cd server
```

2. 安装依赖：

```bash
npm install
```

3. 修改 `.env` 文件中的数据库配置：

```env
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=你的MySQL密码
DB_NAME=charging_station
```

4. 启动后端服务：

```bash
npm run dev
```

看到以下信息表示启动成功：

```
==================================================
🚀 服务器运行在 http://localhost:3000
📊 环境: development
🔗 API 地址: http://localhost:3000/api
==================================================

📝 默认账号信息:
   管理员: admin123456 / 123456
   测试用户: test123456 / 123456
==================================================
```

### 第四步：启动前端

1. 在项目根目录打开新的命令行窗口

2. 安装依赖（如果还没安装）：

```bash
npm install
```

3. 启动前端开发服务器：

```bash
npm run dev
```

4. 浏览器访问：http://localhost:5173

---

## 🔑 默认账号

### 管理员账号

- 用户名：`admin123456`
- 密码：`123456`
- 部门：管理部

### 测试用户账号

- 用户名：`test123456`
- 密码：`123456`
- 部门：技术部

---

## 📁 项目结构

```
graduationPro-VueNode/
├── src/                    # 前端源码
│   ├── views/
│   │   └── Login.vue      # 登录注册页面（已更新）
│   ├── api/
│   │   └── user.ts        # 用户API（已更新）
│   ├── store/
│   │   └── auth.ts        # 认证状态管理（已更新）
│   └── utils/
│       └── axios.ts       # HTTP请求配置（已更新）
│
└── server/                 # 后端源码
    ├── src/
    │   ├── app.js         # 应用入口
    │   ├── config/
    │   │   └── database.js    # 数据库配置
    │   ├── controllers/
    │   │   └── authController.js  # 认证控制器
    │   ├── middleware/
    │   │   ├── auth.js        # JWT认证中间件
    │   │   ├── validator.js   # 数据验证
    │   │   └── errorHandler.js
    │   └── routes/
    │       └── auth.js        # 认证路由
    ├── database/
    │   ├── schema.sql         # 数据库表结构
    │   └── init-test-data.sql # 测试数据
    ├── .env                   # 环境变量配置
    └── package.json
```

---

## 🎨 新功能说明

### 登录注册页面更新

✅ 登录/注册标签切换
✅ 图形验证码
✅ 记住密码功能
✅ 忘记密码提示
✅ 密码显示/隐藏
✅ 部门信息录入
✅ 美观的绿色能源主题设计

### 后端功能

✅ 用户注册接口
✅ 用户登录接口
✅ JWT Token 认证
✅ 密码加密存储
✅ 数据验证
✅ 错误处理

---

## 🔧 常见问题

### 1. 数据库连接失败

- 检查 MySQL 服务是否启动
- 确认 `.env` 文件中的数据库密码正确
- 确认数据库 `charging_station` 已创建

### 2. 端口被占用

- 后端默认端口：3000
- 前端默认端口：5173
- 如需修改，请更新相应配置文件

### 3. 登录失败

- 确保后端服务正常运行
- 检查浏览器控制台是否有错误
- 确认使用正确的账号密码

### 4. CORS 跨域问题

- 后端已配置 CORS，允许前端访问
- 如果前端端口改变，需要更新 `server/.env` 中的 `CORS_ORIGIN`

---

## 📝 下一步开发建议

1. **完善用户管理**
   - 用户列表查询
   - 用户信息修改
   - 密码重置功能

2. **充电桩管理**
   - 充电桩列表
   - 充电桩状态监控
   - 充电桩数据统计

3. **订单管理**
   - 充电订单创建
   - 订单查询
   - 订单统计分析

4. **权限管理**
   - 角色权限配置
   - 菜单权限控制
   - 操作日志记录

5. **数据可视化**
   - 充电数据图表
   - 实时监控大屏
   - 报表导出

---

## 💡 技术支持

如有问题，请检查：

1. Node.js 版本 >= 16
2. MySQL 版本 >= 8.0
3. 所有依赖是否正确安装

祝开发顺利！🎉
